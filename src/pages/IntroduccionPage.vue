<template>
  <q-page class="q-pa-lg column items-center">
    <!-- 1. HERO: PROP√ìSITO -->
    <!-- Usamos 'intro-hero' con backdrop-filter para un inicio impactante -->
    <section class="intro-hero self-stretch">
      <div class="hero-content">
        <div class="text-overline text-accent text-weight-bold q-mb-sm">M√≥dulo 1</div>
        <h1 class="hero-title">Introducci√≥n a <span class="text-primary">ROS 2</span></h1>

        <TextBlock>
          <strong>UpROS Academy</strong> es tu puerta de entrada al desarrollo rob√≥tico profesional.
          Dise√±amos este recorrido para reducir la curva de aprendizaje mediante una metodolog√≠a
          <strong>te√≥rico-pr√°ctica</strong>. <br /><br />
          Desde la instalaci√≥n del entorno hasta la simulaci√≥n y control de robots reales, aqu√≠
          superar√°s las barreras de Linux y la terminal con acompa√±amiento paso a paso.
        </TextBlock>
      </div>
    </section>

    <!-- 2. OBJETIVOS (SplitBlock para balancear texto y visual) -->
    <div class="section-group self-stretch">
      <SectionTitle>üéØ Objetivos del M√≥dulo</SectionTitle>
      <SplitBlock>
        <template #left>
          <TextBlock>
            Al finalizar este recorrido introductorio, habr√°s dominado las competencias clave para
            iniciar tu carrera en rob√≥tica:
          </TextBlock>
          <StepsBlock :steps="learningObjectives" />
        </template>

        <template #right>
          <AlertBlock title="üß† Metodolog√≠a UP-Ros" type="info">
            Aprendizaje c√≠clico y progresivo:<br />
            1. <strong>Concepto:</strong> Entiende el "por qu√©".<br />
            2. <strong>C√≥digo:</strong> Analiza el "c√≥mo".<br />
            3. <strong>Simulaci√≥n:</strong> Prueba sin riesgos.<br />
            4. <strong>Hardware:</strong> Despliega en el mundo real.
          </AlertBlock>

          <!-- Imagen decorativa peque√±a para llenar espacio -->
          <div class="q-mt-md opacity-80">
            <ImageBlock
              src="src/assets/images/jazzy_robot.png"
              style="max-width: 200px; margin: 0 auto"
              :zoomable="false"
              alt="Robot concept"
            />
          </div>
        </template>
      </SplitBlock>
    </div>

    <!-- 3. GLOSARIO VISUAL (Conceptos Clave) -->
    <div class="section-group self-stretch">
      <SectionTitle>Conceptos Fundamentales</SectionTitle>

      <SplitBlock>
        <template #left>
          <ImageBlock
            src="src/assets/images/Nodes-TopicandService.gif"
            caption="Arquitectura de comunicaci√≥n en ROS 2"
            credit="ROS 2 Documentation"
          />
        </template>

        <template #right>
          <TextBlock>
            Antes de escribir tu primera l√≠nea de c√≥digo, es vital hablar el mismo idioma. La
            arquitectura de ROS 2 se basa en grafos de comunicaci√≥n:
          </TextBlock>

          <div class="q-mt-md">
            <AlertBlock title="üîë Diccionario Esencial" type="success">
              ‚Ä¢ <strong>Nodo:</strong> Tu programa (ej: driver de c√°mara).<br />
              ‚Ä¢ <strong>T√≥pico:</strong> Streaming de datos (TV broadcast).<br />
              ‚Ä¢ <strong>Servicio:</strong> Cliente/Servidor (Llamada telef√≥nica).<br />
              ‚Ä¢ <strong>Paquete:</strong> La carpeta que agrupa tu c√≥digo.
            </AlertBlock>
          </div>
        </template>
      </SplitBlock>
    </div>

    <!-- 4. JUSTIFICACI√ìN TECNOL√ìGICA -->
    <div class="section-group self-stretch">
      <SectionTitle>¬øPor qu√© ROS 2 Jazzy (LTS)?</SectionTitle>
      <SplitBlock>
        <template #left>
          <TextBlock>
            No usamos versiones antiguas. Apostamos por <strong>Jazzy Jalisco</strong>, la versi√≥n
            con soporte a largo plazo (LTS) hasta 2029.
          </TextBlock>
          <AlertBlock title="üö´ ¬øPor qu√© no ROS 1?" type="warning">
            ‚Ä¢ <strong>Fin de vida:</strong> Sin soporte oficial.<br />
            ‚Ä¢ <strong>No Real-Time:</strong> No apto para industria cr√≠tica.<br />
            ‚Ä¢ <strong>Inseguro:</strong> Sin encriptaci√≥n nativa.
          </AlertBlock>
        </template>
        <template #right>
          <TextBlock highlighted>
            <div class="text-h6 text-white q-mb-sm">Ventajas de ROS 2</div>
            El est√°ndar industrial moderno ofrece:<br /><br />
            ‚úÖ <strong>DDS (Data Distribution Service):</strong> Comunicaci√≥n robusta.<br />
            ‚úÖ <strong>Tiempo Real:</strong> Control determinista.<br />
            ‚úÖ <strong>Multi-plataforma:</strong> Linux, Windows, macOS.
          </TextBlock>
        </template>
      </SplitBlock>
    </div>

    <!-- 5. RUTA DE APRENDIZAJE (Roadmap Visual Mejorado) -->
    <div class="section-group self-stretch">
      <SectionTitle>Tu Ruta de Aprendizaje</SectionTitle>

      <!-- Reemplazamos la imagen est√°tica por bloques visuales interactivos -->
      <div class="roadmap-container">
        <div class="roadmap-card" v-for="(step, i) in roadmapSteps" :key="i">
          <div class="step-badge">{{ i + 1 }}</div>
          <div class="step-icon">
            <q-icon :name="step.icon" />
          </div>
          <div class="step-info">
            <h4>{{ step.title }}</h4>
            <p>{{ step.desc }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 6. VALIDACI√ìN INICIAL -->
    <div class="section-group self-stretch">
      <SectionTitle>Validaci√≥n Inmediata</SectionTitle>
      <SplitBlock>
        <template #left>
          <TextBlock>
            ¬øListo para empezar? Abre tu terminal y ejecuta este comando. Si ves las versiones, tu
            sistema base est√° listo.
          </TextBlock>
          <AlertBlock title="‚úÖ Checklist Previo" type="success">
            ‚Ä¢ Ubuntu 22.04 / 24.04 instalado.<br />
            ‚Ä¢ Terminal abierta (Ctrl+Alt+T).<br />
            ‚Ä¢ Ganas de aprender.
          </AlertBlock>
        </template>
        <template #right>
          <CodeBlock
            title="Verificaci√≥n de Entorno"
            lang="bash"
            :content="checkCommand"
            :copyable="true"
          />
        </template>
      </SplitBlock>
    </div>

    <!-- 7. CTA / NAVEGACI√ìN -->
    <div class="section-group self-stretch column items-center q-mt-xl">
      <div class="row q-gutter-md justify-center">
        <q-btn
          color="primary"
          unelevated
          rounded
          padding="12px 32px"
          to="/instalacion"
          icon="terminal"
          label="Comenzar Instalaci√≥n"
          class="text-weight-bold"
        />
        <q-btn flat rounded color="white" icon="arrow_back" label="Volver al Inicio" to="/" />
      </div>
    </div>

    <!-- 8. RECURSOS DESCARGABLES -->
    <div class="section-group self-stretch q-mb-xl">
      <PdfBlock
        title="Syllabus y Cronograma"
        description="Descarga el plan de estudios detallado y la gu√≠a de referencia r√°pida."
        size="2.4 MB"
        src="src/assets/upros-roadmap.pdf"
      />
    </div>
  </q-page>
</template>

<script setup lang="ts">
import TextBlock from 'components/content/TextBlock.vue';
import AlertBlock from 'components/content/AlertBlock.vue';
import ImageBlock from 'components/content/ImageBlock.vue';
import CodeBlock from 'components/content/CodeBlock.vue';
import SectionTitle from 'components/content/SectionTitle.vue';
import SplitBlock from 'components/content/SplitBlock.vue';
import StepsBlock from 'components/content/StepsBlock.vue';
import PdfBlock from 'components/content/PdfBlock.vue';

const learningObjectives = [
  'Comprender la arquitectura distribuida de ROS 2 (Nodos, DDS).',
  'Diferenciar patrones de comunicaci√≥n (T√≥picos vs Servicios).',
  'Configurar un entorno de desarrollo profesional en Ubuntu.',
  'Desarrollar y depurar primeros nodos en Python.',
  'Integrar simulaci√≥n (Gazebo) y hardware real.',
];

const checkCommand = `
# Verifica herramientas base
python3 --version
gcc --version
git --version
echo "¬°Todo listo para ROS 2 Jazzy!"
`.trim();

const roadmapSteps = [
  { title: 'Fundamentos', desc: 'Teor√≠a base y conceptos.', icon: 'school' },
  { title: 'Instalaci√≥n', desc: 'Setup del entorno Linux.', icon: 'settings_suggest' },
  { title: 'C√≥digo', desc: 'Python, Nodos y T√≥picos.', icon: 'code' },
  { title: 'Proyecto', desc: 'Simulaci√≥n y Robot Real.', icon: 'smart_toy' },
];
</script>

<style scoped>
/* GENERAL LAYOUT */
.intro-hero,
.section-group {
  width: 100%;
  max-width: 1000px; /* Un poco m√°s estrecho para facilitar lectura */
  margin: 0 auto 3.5rem auto;
}

/* HERO SECTION */
.intro-hero {
  padding: 3rem 2rem;
  background:
    radial-gradient(circle at top right, rgba(56, 189, 248, 0.1), transparent 40%),
    rgba(15, 23, 42, 0.6);
  backdrop-filter: blur(20px);
  border-radius: 24px;
  border: 1px solid rgba(148, 163, 184, 0.1);
  text-align: center;
}

.hero-title {
  font-size: 3rem;
  font-weight: 800;
  margin: 0 0 1.5rem 0;
  line-height: 1.1;
  color: #f8fafc;
}

/* ROADMAP CARDS (Mejorado) */
.roadmap-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
}

.roadmap-card {
  background: rgba(30, 41, 59, 0.4);
  border: 1px solid rgba(148, 163, 184, 0.1);
  border-radius: 16px;
  padding: 24px;
  position: relative;
  overflow: hidden;
  transition: transform 0.3s ease;
}

.roadmap-card:hover {
  transform: translateY(-4px);
  background: rgba(30, 41, 59, 0.6);
  border-color: rgba(56, 189, 248, 0.3);
}

.step-badge {
  position: absolute;
  top: -10px;
  right: -10px;
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  font-weight: 900;
  color: rgba(255, 255, 255, 0.1);
  pointer-events: none;
}

.step-icon {
  width: 48px;
  height: 48px;
  background: rgba(56, 189, 248, 0.1);
  color: #38bdf8;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin-bottom: 16px;
}

.step-info h4 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin: 0 0 4px 0;
  font-weight: 700;
}

.step-info p {
  color: #94a3b8;
  font-size: 0.9rem;
  margin: 0;
  line-height: 1.4;
}

/* RESPONSIVE */
@media (max-width: 768px) {
  .hero-title {
    font-size: 2.2rem;
  }
  .intro-hero {
    padding: 2rem 1rem;
  }
}
</style>
